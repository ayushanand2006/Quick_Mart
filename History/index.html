<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>History</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<style>
    .home-button {
        position: fixed;
        bottom: 15px;
        right: 15px;
        width: 40px;
        height: 40px;
        background-color: #007bff;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-size: 18px;
        text-decoration: none;
        box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.2);
        transition: background-color 0.2s ease, transform 0.15s ease;
        z-index: 1000;
    }

    .home-button i {
        font-size: 16px;
        color: white !important;
    }

    .home-button:hover {
        background-color: #0056b3;
        transform: scale(1.08);
    }

    .home-button:hover i {
        color: white !important;
    }
</style>

<body>
    <nav class="bg-white border-b border-gray-200 shadow-sm sticky-top">
        <!-- Top Bar with Offers & Support -->
        <div class="bg-dark text-white py-2 px-4">
            <div class="container d-flex justify-content-between align-items-center">
                <div>
                    <span>Free shipping on orders over $50</span>
                </div>
                <div class="d-flex align-items-center gap-4">
                    <a href="#" class="text-white text-decoration-none hover-text-success">Help</a>
                    <a href="#" class="text-white text-decoration-none hover-text-success">Track Order</a>
                    <a href="#" class="d-flex align-items-center text-white text-decoration-none hover-text-success">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-telephone me-1" viewBox="0 0 16 16">
                            <path
                                d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z" />
                        </svg>
                        Support
                    </a>
                </div>
            </div>
        </div>

        <!-- Main Navbar -->
        <div class="container py-3">
            <div class="d-flex justify-content-between align-items-center">
                <!-- Brand Logo -->
                <div class="d-flex align-items-center">
                    <a href="../main/index.html" class="d-flex align-items-center text-decoration-none gap-2">
                        <div class="bg-success p-2 rounded-3 shadow">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="white"
                                class="bi bi-bag" viewBox="0 0 16 16">
                                <path
                                    d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z" />
                            </svg>
                        </div>
                        <span class="fs-4 fw-bold text-dark">QuickMart</span>
                    </a>
                </div>

                <!-- Nav Links and User Actions -->
                <div class="d-flex align-items-center gap-3">
                    <!-- Improved User Greeting Box -->

                    <!-- Cart Button -->
                    <a href="../Cart/index.html"
                        class="d-flex flex-column align-items-center text-decoration-none text-dark me-4">
                        <div class="position-relative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                                class="bi bi-cart3" viewBox="0 0 16 16">
                                <path
                                    d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
                            </svg>
                        </div>
                        <small>Cart</small>
                    </a>

                    <!-- History Button -->
                    <a href="../main/index.html"
                        class="d-flex flex-column align-items-center text-decoration-none text-dark">
                        <svg fill="#000000" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 70 70"
                            enable-background="new 0 0 70 70" xml:space="preserve">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <g>
                                    <g>
                                        <path
                                            d="M35.221,7c0.404,0,0.816,0.044,1.227,0.138c2.882,0.652,4.671,3.441,3.998,6.229L29.668,34.37l10.777,22.262 c0.673,2.789-1.116,5.576-3.998,6.23C36.037,62.955,35.627,63,35.223,63c-2.434,0-4.636-1.615-5.214-4.006L18.623,34.437h-0.036 l0.019-0.066l-0.019-0.066h0.036l11.386-23.299C30.587,8.614,32.788,7,35.221,7 M35.221,3c-4.183,0-7.802,2.684-8.971,6.585 L15.186,32.228c-0.375,0.614-0.581,1.314-0.594,2.025c-0.038,0.812,0.173,1.619,0.609,2.313l11.036,23.803 C27.391,64.295,31.023,67,35.223,67c0.707,0,1.416-0.08,2.107-0.236c2.479-0.563,4.568-2.045,5.89-4.174 c1.29-2.078,1.686-4.527,1.114-6.896c-0.067-0.277-0.164-0.547-0.288-0.805l-9.909-20.467l9.867-19.229 c0.145-0.282,0.255-0.58,0.33-0.888c0.571-2.369,0.176-4.818-1.115-6.897c-1.322-2.129-3.412-3.61-5.888-4.171 C36.64,3.079,35.929,3,35.221,3L35.221,3z">
                                        </path>
                                    </g>
                                    <g>
                                        <path
                                            d="M24.411,31.365c-0.149,0-0.303-0.034-0.446-0.105c-0.494-0.247-0.694-0.848-0.447-1.342l5-10 c0.246-0.494,0.846-0.692,1.342-0.447c0.494,0.247,0.694,0.848,0.447,1.342l-5,10C25.131,31.163,24.778,31.365,24.411,31.365z M31.411,17.365c-0.149,0-0.303-0.034-0.446-0.105c-0.494-0.247-0.694-0.848-0.447-1.342l1-2c0.246-0.494,0.848-0.693,1.342-0.447 c0.494,0.247,0.694,0.848,0.447,1.342l-1,2C32.131,17.163,31.778,17.365,31.411,17.365z">
                                        </path>
                                    </g>
                                    <g>
                                        <path
                                            d="M47.412,31.325c2.209,0,4,1.791,4,4s-1.791,4-4,4s-4-1.791-4-4S45.203,31.325,47.412,31.325 M47.412,27.325 c-4.411,0-8,3.589-8,8s3.589,8,8,8s8-3.589,8-8S51.823,27.325,47.412,27.325L47.412,27.325z">
                                        </path>
                                    </g>
                                </g>
                            </g>
                        </svg>
                        <small>Back</small>
                    </a>
                    <div class="user-greeting-container dropdown" id="userGreetingTab">
                        <button class="btn user-greeting-btn border-0 d-flex align-items-center gap-2" type="button"
                            id="userGreetingDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <div class="position-relative">
                                <!-- Avatar with gradient background -->
                                <div class="rounded-circle d-flex justify-content-center align-items-center shadow-sm"
                                    style="width: 40px; height: 40px;">
                                    <img src="img/user-svgrepo-com.svg" alt="User Avatar" class="rounded-circle"
                                        style="width: 100%; height: 100%; object-fit: cover;">
                                </div>
                                <!-- Online status indicator -->
                                <span
                                    class="position-absolute bottom-0 end-0 bg-success rounded-circle border border-white"
                                    style="width: 10px; height: 10px;"></span>
                            </div>

                            <!-- Greeting -->
                            <div class="greeting-text ms-1">
                                <p class="mb-0 text-muted small fw-light">Hello,</p>
                                <p class="mb-0 fw-semibold small text-dark" id="user-name"></p>
                            </div>

                            <!-- Dropdown chevron -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor"
                                class="bi bi-chevron-down ms-1 text-muted" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" />
                            </svg>
                        </button>

                        <!-- Quick action -->
                        <ul class="dropdown-menu dropdown-menu-end shadow-sm border-0 py-2"
                            aria-labelledby="userGreetingDropdown">
                            <li><a class="dropdown-item" id="profileLink">Profile</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item d-flex align-items-center gap-2 text-danger"
                                    class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#logoutModal">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                        class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd"
                                            d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z" />
                                        <path fill-rule="evenodd"
                                            d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z" />
                                    </svg>
                                    Log out
                                </a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-5">
        <!-- History Header will be added dynamically by JavaScript -->

        <!-- History Items -->
        <div class="row" id="historyData">
            <!-- History items will be loaded here dynamically -->
        </div>
        <!-- Modal for User Profile -->
        <div class="modal fade" id="userProfileModal" tabindex="-1" aria-labelledby="userProfileModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content border-0">
                    <div class="modal-header bg-success text-white">
                        <h5 class="modal-title" id="userProfileModalLabel">
                            <i class="fas fa-user-circle me-2"></i>User Profile
                        </h5>
                        <button type="button" class="btn-close btn-close-white text-white" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                    </div>
                    <div class="modal-body p-4">
                        <div id="userProfileData">
                            <!-- User data will be populated here by JavaScript -->
                            <div class="text-center py-4">
                                <div class="spinner-border text-success" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                <p class="mt-2">Loading user data...</p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer bg-light">
                        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Logout Modal -->
        <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content p-4 shadow-lg border-0 rounded-2xl">
                    <div class="modal-body text-center">
                        <!-- Icon -->
                        <div class="mb-3 flex justify-center">
                            <i class="bi bi-box-arrow-right text-danger text-4xl"></i>
                        </div>

                        <!-- Title -->
                        <h5 class="fw-bold text-xl">Logout?</h5>
                        <p class="text-gray-500">Are you sure you want to log out?</p>

                        <!-- Buttons -->
                        <div class="d-flex justify-content-center gap-3 mt-4">
                            <button type="button" class="btn btn-light border px-4 py-2" data-bs-dismiss="modal">
                                Cancel
                            </button>
                            <button type="button" class="btn btn-danger px-4 py-2 shadow-sm" id="confirmLogout">
                                Logout
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Bootstrap Icons CDN (Required for the logout icon) -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
        <script src="script.js"></script>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</body>

</html>