<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<style>
    /* Card Container */
.modern-card {
    border-radius: 15px; /* Soft rounded corners */
    overflow: hidden; /* Clean cut corners */
    background-color: #fff; /* Clean white background */
    transition: all 0.3s ease; /* Smooth transition */
    display: flex;
    flex-direction: column;
    height: 100%;
}

.modern-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
}

/* Product Image */
.product-img {
    object-fit: cover;
    max-height: 200px;
    transition: transform 0.3s ease; /* Zoom effect */
}

.product-img:hover {
    transform: scale(1.05);
}

/* Card Body */
.card-body {
    padding: 2rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.card-title {
    font-size: 1.2rem;
    font-weight: 700;
    color: #333;
    margin-bottom: 10px;
}

.product-description {
    font-size: 0.95rem;
    color: #777;
    line-height: 1.5;
    height: 40px;
    overflow: hidden;
    text-overflow: ellipsis; /* Truncate long descriptions */
}

.price {
    font-size: 1.1rem;
    font-weight: 600;
    color: #3498db;
    margin-bottom: 15px;
}

.rating p {
    margin: 0;
}

.rating {
    display: flex;
    align-items: center;
    gap: 5px;
}

/* Card Footer */
.card-footer {
    background-color: #f8f8f8;
    border-top: 1px solid #ddd;
}

.remove-btn {
    background-color: #e74c3c;
    border-radius: 30px;
    padding: 10px;
    font-size: 0.9rem;
    font-weight: 600;
    transition: background-color 0.3s ease;
}

.remove-btn:hover {
    background-color: #c0392b; /* Darker shade of red */
}

.remove-btn i {
    margin-right: 8px;
}

/* Modernizing button and card interactions */
.card-footer .btn {
    font-size: 1rem;
    font-weight: 500;
    transition: all 0.3s ease;
}

.card-body .card-text {
    color: #6c757d;
}

/* Spacing between cards on larger screens */
.row-cols-lg-4 .col {
    margin-bottom: 30px;
}

/* For responsive mobile screens */
@media (max-width: 768px) {
    .card-body {
        padding: 1.5rem;
    }

    .card-title {
        font-size: 1.1rem;
    }

    .price {
        font-size: 1rem;
    }

    .remove-btn {
        font-size: 1rem;
        padding: 12px;
    }
}

</style>


<body>
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Brand Section -->
                <div class="flex items-center space-x-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-600" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                    </svg>
                    <a href="../main/index.html" class="text-2xl font-bold text-green-600 hover:text-green-800 transition duration-300">
                        QuickMart
                    </a>
                </div>

                <!-- Navigation and Action Buttons -->
                <div class="flex items-center space-x-4">
                    <!-- Action Buttons with Prominent Icons -->
                    <div class="flex items-center space-x-4">
                        <!-- History Button -->
                        <a href="#" class="relative group">
                            <div class="bg-yellow-100 p-2 rounded-full hover:bg-yellow-200 transition duration-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-600" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <span
                                class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">3</span>
                            <span
                                class="absolute z-10 -bottom-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition duration-300">
                                History
                            </span>
                        </a>

                        <!-- Cart Button -->
                        <a href="../Cart/index.html" class="relative group">
                            <div class="bg-blue-100 p-2 rounded-full hover:bg-blue-200 transition duration-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                                </svg>
                            </div>
                            <span
                                class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">2</span>
                            <span
                                class="absolute z-10 -bottom-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition duration-300">
                                Cart
                            </span>
                        </a>

                        <!-- Login Button -->
                        <a href="#" class="group">
                            <div class="bg-purple-100 p-2 rounded-full hover:bg-purple-200 transition duration-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-600" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
                                </svg>
                            </div>
                            <span
                                class="absolute z-10 -bottom-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition duration-300">
                                Login
                            </span>
                        </a>

                        <!-- Register Button -->
                        <a href="#" class="group">
                            <div class="bg-green-100 p-2 rounded-full hover:bg-green-200 transition duration-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
                                </svg>
                            </div>
                            <span
                                class="absolute z-10 -bottom-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 transition duration-300">
                                Register
                            </span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <div class="container mt-5">
        <div class="row">

        </div>
    </div>

    <script>
async function DataFunction() {
    const row = document.querySelector(".row");
    const cartData = JSON.parse(localStorage.getItem("cartData")) || [];
    console.log(cartData);
    
    let productresult = '';
    let totalPrice = 0;

    cartData.forEach((product, index) => {
        totalPrice += product.price;

        productresult += `
<div class="col-lg-3 col-md-4 col-sm-6 mb-4">
    <div class="card shadow-lg rounded-3 overflow-hidden d-flex flex-column modern-card">
        <img src="${product.thumbnail}" class="card-img-top w-100 product-img" alt="Product Image">
        <div class="card-body p-4">
            <h6 class="card-title fw-bold text-dark">${product.title}</h6>
            <p class="card-text text-muted mb-2 product-description">${product.description}</p>
            <p class="card-text fw-bold text-primary price">💲${product.price.toFixed(2)}</p>
            <div class="rating mb-3">
                <p class="card-text text-warning small">⭐ ${product.rating}</p>
            </div>
        </div>
        <div class="card-footer p-3 text-center">
            <button class="btn btn-danger w-100 py-2 rounded-pill d-flex align-items-center justify-content-center remove-btn" onclick="cartRemove(${index})">
                <i class="fa fa-trash me-1"></i> Remove
            </button>
        </div>
    </div>
</div>


        `;
    });

    // Total Price and Buy Now Button
    if (cartData.length > 0) {
        productresult += `
            <div class="container text-center mt-4">
                <h3 class="text-primary">Total Price: $${totalPrice.toFixed(2)}</h3>
                <button class="btn btn-success btn-lg mt-3 rounded-pill px-4 py-2" onclick="buyNow()">
                    <i class="fa fa-shopping-cart"></i> Buy Now
                </button>
            </div>
        `;
    } else {
        productresult = `
            <div class="container text-center mt-5">
                <h3 class="text-danger">Your cart is empty</h3>
            </div>
        `;
    }

    row.innerHTML = productresult;
}

DataFunction();

// function cartRemove(index) {
//     let cartData = JSON.parse(localStorage.getItem("cartData")) || [];

//     if (cartData.length > 0) {
//         cartData.splice(index, 1); 
//         localStorage.setItem("cartData", JSON.stringify(cartData)); 
//         DataFunction(); 
//     }
// }


// Function to remove item from cart and keep scroll position
function removeFromCart(id) {
    let cartData = JSON.parse(localStorage.getItem('cartData')) || [];

    cartData = cartData.filter((item, index) => index !== id);

    localStorage.setItem("cartData", JSON.stringify(cartData));
}




// Buy Now Function
function buyNow() {
    alert("Thank you for your purchase 🎉");
    localStorage.removeItem("cartData");
    DataFunction();
}
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</body>

</html>